---
import ExternalLinkIcon from '@/components/icons/ExternalLinkIcon.astro';
import BaseLayout from '@/layouts/BaseLayout.astro';
import { experience, projects, socials } from '@/lib/data';
import {
  Bitcoin as BitcoinIcon,
  Discord as DiscordIcon,
  Drizzle as DrizzleIcon,
  Ethereum as EthereumIcon,
  Github as GitHubIcon,
  Linkedin as LinkedInIcon,
  Litecoin as LitecoinIcon,
  Meilisearch as MeilisearchIcon,
  Nextdotjs as NextIcon,
  Openai as OpenAIIcon,
  Python as PythonIcon,
  Raycast as RaycastIcon,
  React as ReactIcon,
  Tailwindcss as TailwindCSSIcon,
  Typescript as TypeScriptIcon,
  X as XIcon
} from 'simple-icons-astro';
---

<BaseLayout title="Andre Lew">
  <section class="py-14">
    <h1 class="mb-2 text-2xl font-medium tracking-tighter">Andre Lew</h1>
    <p class="mb-4 text-balance tracking-tight text-neutral-400">
      Hey, I'm <strong class="font-medium">Andre</strong>! I'm a 19 y/o student
      studying <strong class="font-medium"
        >Computer Science and Engineering</strong
      > at <a
        class="border-b border-dashed border-neutral-500 font-medium transition-colors hover:border-neutral-400 hover:text-neutral-300"
        href="https://www.ucmerced.edu"
        target="_blank">UC Merced</a
      >. I love shipping software and learning about new tech!
    </p>
    <div class="flex gap-4">
      <button id="discord-btn" type="button">
        <DiscordIcon class="transition-opacity hover:opacity-75" />
      </button>
      {
        socials.map((social) => (
          <a href={social.href} target="_blank">
            <social.icon class="transition-opacity hover:opacity-75" />
          </a>
        ))
      }
    </div>
  </section>
  <section class="pb-12">
    <h2 class="mb-2 text-xl font-medium tracking-tight">Experience</h2>
    <ul
      class="divide-y divide-neutral-700/50 border-t border-neutral-700/50 normal-case"
    >
      {
        experience.map((exp) => (
          <li class="relative flex flex-col py-2 transition-opacity hover:opacity-80 sm:flex-row sm:items-center sm:justify-between">
            <div class="flex gap-2">
              <img
                class="size-8 rounded object-contain"
                src={exp.logo}
                alt=""
              />
              <div class="flex flex-col tracking-tight sm:flex-row sm:items-center sm:gap-2">
                <h3 class="text-[0.9rem] font-medium">{exp.company}</h3>
                <p class="text-sm text-neutral-400">{exp.title}</p>
              </div>
            </div>
            <div class="ml-10 flex items-center gap-2 text-sm tracking-tight text-neutral-400 sm:ml-0">
              {exp.active && (
                <span class="block size-1.5 animate-pulse rounded-full bg-emerald-500" />
              )}
              {exp.date}
            </div>
            <a
              class="contents after:absolute after:inset-0"
              href={exp.href}
              target="_blank"
            />
          </li>
        ))
      }
    </ul>
  </section>
  <section>
    <div class="mb-2 flex items-center justify-between">
      <h2 class="text-xl font-medium tracking-tight">projects</h2>
      <a
        class="group text-sm text-neutral-400 transition-colors hover:text-neutral-300"
        href="https://github.com/aelew?tab=repositories"
        target="_blank"
      >
        View more on GitHub
        <span
          class="inline-block translate-x-0 transition-transform duration-200 ease-in-out group-hover:translate-x-0.5"
          aria-hidden="true"
        >
          &rarr;
        </span>
      </a>
    </div>
    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
      {
        projects.map((project) => (
          <div class="relative grid gap-2 rounded-lg bg-neutral-800 p-2 transition-opacity hover:opacity-90">
            <img
              class="mb-1 h-48 rounded-lg object-cover"
              alt={`${project.name} project cover`}
              src={project.cover}
              draggable="false"
            />
            <div class="tracking-tight">
              <div class="flex items-center justify-between">
                <div class="flex gap-1.5">
                  <h3 class="text-lg/4 font-medium">{project.name}</h3>
                  {project.openSource && (
                    <span class="mt-0.5 inline-flex items-center rounded bg-white/10 px-1.5 pb-0.5 text-xs font-medium leading-none text-neutral-400">
                      OSS
                    </span>
                  )}
                </div>
                <div class="flex items-center gap-1.5">
                  {project.icons.map((Icon) => (
                    <Icon class="size-4 text-neutral-400" />
                  ))}
                </div>
              </div>
              <div class="flex items-baseline justify-between">
                <p class="text-sm text-neutral-400">{project.description}</p>
                <a
                  class="flex items-center gap-1 text-xs text-neutral-500 after:absolute after:inset-0"
                  href={project.link.href}
                  target="_blank"
                >
                  {project.link.type}
                  <ExternalLinkIcon class="size-3 opacity-80" />
                </a>
              </div>
            </div>
          </div>
        ))
      }
    </div>
  </section>
  <dialog
    class="animate-in fade-in backdrop:animate-in backdrop:fade-in bg-transparent duration-200 backdrop:backdrop-blur-sm backdrop:duration-200"
    id="discord-dialog"
  >
    <div class="grid gap-2" id="discord-dialog-content">
      <a
        href="https://discord.com/users/204594797812383744"
        class="transition-opacity hover:opacity-80"
        target="_blank"
      >
        <img
          src="https://lanyard.cnrad.dev/api/204594797812383744?theme=dark&showDisplayName=true&hideActivity=true"
          alt="Discord user information"
        />
      </a>
      <p class="text-center text-sm text-neutral-400">
        Click above to open my profile in Discord!
      </p>
    </div>
  </dialog>
  <script>
    const discordBtn = document.getElementById(
      'discord-btn'
    ) as HTMLButtonElement;
    const discordDialog = document.getElementById(
      'discord-dialog'
    ) as HTMLDialogElement;

    discordBtn.addEventListener('click', () => {
      discordDialog.showModal();
    });

    discordDialog.addEventListener('click', (e) => {
      if ((e.currentTarget as HTMLElement).id !== 'discord-dialog-content') {
        discordDialog.close();
      }
    });
  </script>
</BaseLayout>
